{% extends "base.html" %}

{% block content %}
<div class="container mt-5">
  <div class="row">
    <div class="col-md-6">
      <form method="POST" action="{{ url_for('emi') }}" class="mb-5">
        <div class="form-group">
          <label for="loan_name">Loan Name:</label>
          <input type="text" name="loan_name" class="form-control" required>
        </div>
        <div class="form-group">
          <label for="loan_amount">Loan Amount:</label>
          <input type="number" name="loan_amount" class="form-control" required>
        </div>
        <div class="form-group">
          <label for="interest_rate">Interest Rate:</label>
          <input type="number" name="interest_rate" step="0.01" class="form-control" required>
        </div>
        <div class="form-group">
          <label for="tenure">Tenure (in years):</label>
          <input type="number" name="tenure" class="form-control" required>
        </div>
        <div class="form-group">
          <label for="emi_start_date">EMI Start Date:</label>
          <input type="date" name="emi_start_date" class="form-control" required>
        </div>
        <button type="submit" class="btn btn-primary">Generate EMI Schedule</button>
      </form>
    </div>
    <div class="col-md-6">
      {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
          {% for category, message in messages %}
            <div class="alert alert-{{ category }} alert-dismissible fade show" role="alert">
              <strong>{{ message }}</strong> EMI details added successfully!
              <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
          {% endfor %}
        {% endif %}
      {% endwith %}
    </div>
  </div>
</div>
{% endblock %}